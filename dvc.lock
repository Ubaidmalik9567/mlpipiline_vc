schema: '2.0'
stages:
  make_dataset:
    cmd: python ./src/data/make_dataset.py /data/raw
    deps:
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: 37ae1905afcbe0274edaee7d73de4f2d
      size: 2180
    outs:
    - path: ./data/raw/raw.csv
      hash: md5
      md5: 378e50a49c97277f1841a684687c2020
      size: 3768210
  data_transformation:
    cmd: python ./src/data/data_transformation.py /data
    deps:
    - path: ./data/raw/raw.csv
      hash: md5
      md5: 378e50a49c97277f1841a684687c2020
      size: 3768210
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: 37ae1905afcbe0274edaee7d73de4f2d
      size: 2180
    params:
      params.yaml:
        data_transformation.seed: 42
        data_transformation.split_dataset_size: 0.3
    outs:
    - path: ./data/interim/preprocess_testdata.csv
      hash: md5
      md5: 68e07ab918f92b6d0642d1665242b06c
      size: 171899
    - path: ./data/interim/preprocess_traindata.csv
      hash: md5
      md5: f63ed18be0d5dea2c256de9c72cb5cc5
      size: 400587
  build_features:
    cmd: python ./src/features/build_features.py /data
    deps:
    - path: ./data/interim/preprocess_testdata.csv
      hash: md5
      md5: 68e07ab918f92b6d0642d1665242b06c
      size: 171899
    - path: ./data/interim/preprocess_traindata.csv
      hash: md5
      md5: f63ed18be0d5dea2c256de9c72cb5cc5
      size: 400587
    - path: ./src/features/build_features.py
      hash: md5
      md5: bb78f499aaf03c46b3ff76ead88c29ba
      size: 5224
    params:
      params.yaml:
        build_features.max_features: 50
    outs:
    - path: ./data/processed/processed_testdata.csv
      hash: md5
      md5: e12cd19eb36a975bcee4a2ab42c7e380
      size: 698364
    - path: ./data/processed/processed_traindata.csv
      hash: md5
      md5: 845414c8280f6eff040087b690203648
      size: 1630851
  train_model:
    cmd: python ./src/models/train_model.py ./data/processed
    deps:
    - path: ./data/processed/processed_traindata.csv
      hash: md5
      md5: 845414c8280f6eff040087b690203648
      size: 1630851
    - path: ./src/models/train_model.py
      hash: md5
      md5: 0a6d32cd7ebb1b482b55d7f05d884b09
      size: 3660
    params:
      params.yaml:
        train_model.no_estimators: 50
    outs:
    - path: ./models/model.pkl
      hash: md5
      md5: 9079a45da59e1f70d7ed872b0b66f5a7
      size: 69436
  predict_model:
    cmd: python ./src/models/predict_model.py ./data/processed
    deps:
    - path: ./data/processed/processed_testdata.csv
      hash: md5
      md5: e12cd19eb36a975bcee4a2ab42c7e380
      size: 698364
    - path: ./src/models/predict_model.py
      hash: md5
      md5: 5d592d9be9441103b28f2fee4649a5ff
      size: 5095
    outs:
    - path: ./reports/metrics.json
      hash: md5
      md5: c1aaa598dd7e8f713883480c2a857336
      size: 145
